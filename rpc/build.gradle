description = 'Client Server API'

configurations {
    sourceCode
}
dependencies {
    compile libs.gwt_servlet
    compile libs.gwt_dispatch
    compile libs.guava
    compile libs.guava_gwt

    testCompile project(':test-util')
    testCompile libs.junit
    testCompile libs.commons_lang
    testCompile libs.openpojo
    
    testRuntime libs.slf4j_log4j12
}

task sourceCodeJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

task testsJar(type: Jar, dependsOn: compileTestJava) {
    from sourceSets.test.output.classesDir
    classifier = 'tests'
}

artifacts {
    sourceCode sourceCodeJar
    testCompile testsJar
}
